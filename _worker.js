const a0_0x355263=a0_0x5e36;(function(_0x1b3129,_0x8bc750){const _0x38860b=a0_0x5e36,_0x26d35a=_0x1b3129();while(!![]){try{const _0x2ea82b=parseInt(_0x38860b(0x229))/0x1+parseInt(_0x38860b(0x284))/0x2+-parseInt(_0x38860b(0x26b))/0x3+parseInt(_0x38860b(0x24d))/0x4*(-parseInt(_0x38860b(0x299))/0x5)+parseInt(_0x38860b(0x235))/0x6*(-parseInt(_0x38860b(0x1c3))/0x7)+parseInt(_0x38860b(0x291))/0x8*(parseInt(_0x38860b(0x1e0))/0x9)+-parseInt(_0x38860b(0x1fb))/0xa*(parseInt(_0x38860b(0x1ee))/0xb);if(_0x2ea82b===_0x8bc750)break;else _0x26d35a['push'](_0x26d35a['shift']());}catch(_0x3e4b31){_0x26d35a['push'](_0x26d35a['shift']());}}}(a0_0x2ddb,0x9dd67));import{connect}from'cloudflare:sockets';function a0_0x5e36(_0x26d9e4,_0x599924){const _0x2ddbee=a0_0x2ddb();return a0_0x5e36=function(_0x5e361f,_0x2eee04){_0x5e361f=_0x5e361f-0x1b4;let _0x48ae21=_0x2ddbee[_0x5e361f];return _0x48ae21;},a0_0x5e36(_0x26d9e4,_0x599924);}let userID='d342d11e-d424-4583-b36e-524ab1f0afa4';const proxyIPs=[a0_0x355263(0x24f),a0_0x355263(0x21f),a0_0x355263(0x206)];let proxyIP=proxyIPs[Math[a0_0x355263(0x288)](Math['random']()*proxyIPs[a0_0x355263(0x28d)])],socks5Address='',socks5Relay=![];function a0_0x2ddb(){const _0x5e3e33=['trim','cdn-all.xn--b6gac.eu.org','please\x20provide\x20username/password','\x22\x20class=\x22btn\x22\x20target=\x22_blank\x22><i\x20class=\x22fas\x20fa-bolt\x22></i>\x20Clash\x20Subscription</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22','replace','www.ttpaihang.com','invalid\x20data','dmxlc3M=','www.zhangzishi.cc','www.tmall.com','www.so.com','1268006tqHYUi','websocket','match',',\x20has\x20to\x20be\x20none\x20or\x20tls.','Unsupported\x20outbound\x20stream\x20method:\x20','byteLength','toString','byteOffset','buffer','pages.dev','message','Remote\x20connection\x20readable\x20aborted:','2414148eZYpLR','split','security','\x22)\x27><i\x20class=\x22fas\x20fa-copy\x22></i>\x20Copy</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','application/json;charset=utf-8','www.kuaidi100.com','substr','encode','www.netease.com','www.eyny.com','stringify','\x20tcp','www.360.cn','www.dianping.com','Stringified\x20UUID\x20is\x20invalid','www.xinhuanet.com','log','www.qidian.com','sec-websocket-protocol','dns\x20udp\x20has\x20error','doh\x20success\x20and\x20dns\x20message\x20length\x20is\x20','www.mgtv.com','Unknown\x20address\x20type:\x20','search','52oMhnPg','readableWebSocketStream\x20is\x20abort','cdn.xn--b6gac.eu.org','QA==','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3>Default\x20IP\x20Configuration</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22code-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<pre><code>','decode','tlsSettings','https://www.google.com/search?q=edtunnel',')\x20tcp\x20is\x20close','toLowerCase','www.ximalaya.com','www.youku.com','&insert=false&emoji=true&list=false&tfo=false&scv=true&fdn=false&sort=false&new_name=true','www.58.com','www.telegraph.co.uk','from','tls','IPv4','www.881903.com',')\x20tcp\x20is\x20abort','www.91.com','www.mafengwo.cn','getReader','read','IPv6','www.ifeng.com','www.autohome.com.cn','readableWebSocketStream\x20is\x20aborted','www.sohu.com','text/html;\x20charset=utf-8','1034193LCPdws','www.cnblogs.com','body','</code></pre>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20copy-btn\x22\x20onclick=\x27copyToClipboard(\x22','enqueue','Upgrade','manual','flatMap','\x22\x20class=\x22btn\x22\x20target=\x22_blank\x22><i\x20class=\x22fas\x20fa-bolt\x22></i>\x20Clash\x20Link</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22','sha224','DomainName','write','www.guancha.cn','network','closed','cf-connecting-ip','fail\x20to\x20auth\x20socks\x20server','www.ted.com','Invalid\x20data\x20length','Invalid\x20SOCKS\x20address\x20format','www.panda.tv','wsSettings','www.youth.cn','www.toutiao.com','get','1723452BtozyK','\x20expected:\x205','8.8.4.4','referer','floor','UDP\x20proxy\x20only\x20enable\x20for\x20DNS\x20which\x20is\x20port\x2053','&path=/','?ed=2048','some','length','www.hupu.com','www.pconline.com.cn','x-real-ip','8gtybFw','www.163.com','&fp=random&type=ws&host=','www.tudou.com','set','www.qq.com','pathname','www.baidu.com','339455rgnYqv','method','www.zhibo8.cc','weibo.com','/sub/','\x20are\x20not\x20allowed.','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22container\x20config-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2>UUID:\x20','www.tmtpost.com','1.2.3.4','send','www.jianshu.com','\x0a\x20\x20<body>\x0a\x20\x20\x20\x20','/\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20property=\x27og:image\x27\x20content=\x27https://ipfs.io/ipfs/bafybeigd6i5aavwpr6wvnwuyayklq3omonggta4x2q7kpmgafj357nkcky\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20name=\x27twitter:card\x27\x20content=\x27summary_large_image\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20name=\x27twitter:title\x27\x20content=\x27EDtunnel\x20-\x20Protocol\x20Configuration\x20and\x20Subscribe\x20Output\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20name=\x27twitter:description\x27\x20content=\x27Use\x20Cloudflare\x20Pages\x20and\x20Worker\x20serverless\x20to\x20implement\x20protocol\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20name=\x27twitter:url\x27\x20content=\x27https://','queryParams','headers','close','\x22)\x27><i\x20class=\x22fas\x20fa-copy\x22></i>\x20Copy</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3>Best\x20IP\x20Configuration</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22code-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<pre><code>','14yOyIhF','forEach','Invalid\x20address\x20type:\x20','-HTTP-','none','pipeTo','https://','finally','error','getUint8','www.youzu.com','invalid\x20user','www.zhaopin.com','\x0a\x20\x20<head>\x0a\x20\x20\x20\x20<title>EDtunnel:\x20Configuration</title>\x0a\x20\x20\x20\x20<meta\x20name=\x27viewport\x27\x20content=\x27width=device-width,\x20initial-scale=1\x27>\x0a\x20\x20\x20\x20<meta\x20property=\x27og:site_name\x27\x20content=\x27EDtunnel:\x20Protocol\x20Configuration\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20property=\x27og:type\x27\x20content=\x27website\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20property=\x27og:title\x27\x20content=\x27EDtunnel\x20-\x20Protocol\x20Configuration\x20and\x20Subscribe\x20Output\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20property=\x27og:description\x27\x20content=\x27Use\x20Cloudflare\x20Pages\x20and\x20Worker\x20serverless\x20to\x20implement\x20protocol\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20property=\x27og:url\x27\x20content=\x27https://','join','includes','Invalid\x20password','catch','www.sina.com.cn','value','slice','fail\x20to\x20open\x20socks\x20connection','sent\x20socks\x20greeting','\x22\x20class=\x22btn\x22\x20target=\x22_blank\x22><i\x20class=\x22fas\x20fa-star\x22></i>\x20Best\x20IP\x20Subscription</a>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22subscription-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3>Options\x20Explained:</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li><strong>VLESS\x20Subscription:</strong>\x20Direct\x20link\x20for\x20VLESS\x20protocol\x20configuration.\x20Suitable\x20for\x20clients\x20supporting\x20VLESS.</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li><strong>Clash\x20Subscription:</strong>\x20Opens\x20the\x20Clash\x20client\x20with\x20pre-configured\x20settings.\x20Best\x20for\x20Clash\x20users\x20on\x20mobile\x20devices.</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li><strong>Clash\x20Link:</strong>\x20A\x20web\x20link\x20to\x20convert\x20the\x20VLESS\x20config\x20to\x20Clash\x20format.\x20Useful\x20for\x20manual\x20import\x20or\x20troubleshooting.</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li><strong>Best\x20IP\x20Subscription:</strong>\x20Provides\x20a\x20curated\x20list\x20of\x20optimal\x20server\x20IPs\x20for\x20many\x20<b>different\x20countries</b>.</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p>Choose\x20the\x20option\x20that\x20best\x20fits\x20your\x20client\x20and\x20needs.\x20For\x20most\x20users,\x20the\x20VLESS\x20or\x20Clash\x20Subscription\x20will\x20be\x20the\x20easiest\x20to\x20use.</p>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20','?format=clash','The\x20Host\x20field\x20in\x20the\x20http\x20header\x20is\x20different\x20from\x20the\x20server\x20address,\x20this\x20is\x20unsupported\x20due\x20to\x20Cloudflare\x20API\x20restrictions','www.douyin.com','www.jd.com','addEventListener','10802115MZsBLx','readyState','&path=%2F%3Fed%3D2048#','random','safeCloseWebSocket\x20error:','readable','udp\x20','&path=','socks\x20server\x20version\x20error:\x20','Host','addressValue\x20is\x20empty,\x20addressType\x20is\x20','arrayBuffer','uuid\x20is\x20not\x20valid','www.pptv.com','7165774QzSyus','www.hao123.com','getWriter','values','ReadableStream\x20was\x20canceled,\x20due\x20to\x20','readableWebSocketStream\x20is\x20closed','readableWebSocketStream\x20pipeTo\x20error','WebSocket\x20is\x20not\x20open','substring','readableWebSocketStream\x20is\x20close','-HTTPS-','test','www.imgo.tv','10AoeuvA','&uuid=','www.quyaoya.com','www.douban.com','www.ctrip.com','Usupported\x20security\x20layer:\x20','/bestip/','x-forwarded-for','writable','webSocketServer\x20has\x20error','dns\x20server(','workers.cloudflare.cyou','status','text/plain;charset=utf-8','socks\x20connection\x20opened','?encryption=none&security=tls&sni=','\x20is\x20not\x20supported,\x20command\x2001-tcp,02-udp,03-mux','accept','?encryption=none&security=none&fp=random&type=ws&host=','Invalid\x20header\x20format\x20(missing\x20CR\x20LF)','&fp=randomized&type=ws&host=','releaseLock','map','www.toutiao.io','getUint16','www.csdn.net','https://url.v1.mk/sub?target=clash&url=','www.liepin.com','no\x20acceptable\x20methods','www.xueqiu.com','://','\x22\x20class=\x22btn\x22\x20target=\x22_blank\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20VLESS\x20Subscription</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22clash://install-config?url=','The\x20SNI\x20is\x20different\x20from\x20the\x20server\x20address,\x20this\x20is\x20unsupported\x20due\x20to\x20Cloudflare\x20API\x20restrictions','connected\x20to\x20','url'];a0_0x2ddb=function(){return _0x5e3e33;};return a0_0x2ddb();}if(!isValidUUID(userID))throw new Error(a0_0x355263(0x1ec));let parsedSocks5Address={},enableSocks=![];export default{async 'fetch'(_0x5ec74e,_0x25e9fc,_0x3535a0){const _0x49caae=a0_0x355263;try{const {UUID:_0x203253,PROXYIP:_0x188800,SOCKS5:_0x1bc618,SOCKS5_RELAY:_0x15f425}=_0x25e9fc;userID=_0x203253||userID,proxyIP=_0x188800||proxyIP,socks5Address=_0x1bc618||socks5Address,socks5Relay=_0x15f425||socks5Relay;if(socks5Address)try{parsedSocks5Address=socks5AddressParser(socks5Address),enableSocks=!![];}catch(_0x33609f){console[_0x49caae(0x245)](_0x33609f[_0x49caae(0x22f)]()),enableSocks=![];}const _0x16ad43=userID[_0x49caae(0x1d2)](',')?userID[_0x49caae(0x236)](',')[0x0]:userID,_0x4bb65d=new URL(_0x5ec74e[_0x49caae(0x21d)]),_0x21c5b4=_0x5ec74e[_0x49caae(0x1c0)][_0x49caae(0x283)](_0x49caae(0x1e9));if(_0x5ec74e[_0x49caae(0x1c0)][_0x49caae(0x283)](_0x49caae(0x270))!==_0x49caae(0x22a))switch(_0x4bb65d[_0x49caae(0x297)]){case'/cf':return new Response(JSON[_0x49caae(0x23f)](_0x5ec74e['cf'],null,0x4),{'status':0xc8,'headers':{'Content-Type':_0x49caae(0x239)}});case'/'+_0x16ad43:return new Response(getConfig(userID,_0x21c5b4),{'status':0xc8,'headers':{'Content-Type':_0x49caae(0x26a)}});case'/sub/'+_0x16ad43:return new Response(btoa(GenSub(userID,_0x21c5b4)),{'status':0xc8,'headers':{'Content-Type':_0x49caae(0x208)}});case _0x49caae(0x201)+_0x16ad43:return fetch('https://sub.xf.free.hr/auto?host='+_0x21c5b4+_0x49caae(0x1fc)+userID+_0x49caae(0x28a),{'headers':_0x5ec74e[_0x49caae(0x1c0)]});default:return handleDefaultPath(_0x4bb65d,_0x5ec74e);}else return await ProtocolOverWSHandler(_0x5ec74e);}catch(_0x5bb688){return new Response(_0x5bb688[_0x49caae(0x22f)]());}}};async function handleDefaultPath(_0x2d858e,_0x3cfe84){const _0x24959e=a0_0x355263,_0x314369=hostnames[Math[_0x24959e(0x288)](Math[_0x24959e(0x1e3)]()*hostnames[_0x24959e(0x28d)])],_0x3e9318=new Headers(_0x3cfe84[_0x24959e(0x1c0)]);_0x3e9318['set'](_0x24959e(0x27a),_0x24959e(0x1ba)),_0x3e9318[_0x24959e(0x295)](_0x24959e(0x202),'1.2.3.4'),_0x3e9318[_0x24959e(0x295)](_0x24959e(0x290),_0x24959e(0x1ba)),_0x3e9318['set'](_0x24959e(0x287),_0x24959e(0x254));const _0x2e13d0=_0x24959e(0x1c9)+_0x314369+_0x2d858e[_0x24959e(0x297)]+_0x2d858e[_0x24959e(0x24c)],_0x1cb568=new Request(_0x2e13d0,{'method':_0x3cfe84[_0x24959e(0x29a)],'headers':_0x3e9318,'body':_0x3cfe84[_0x24959e(0x26d)],'redirect':'manual'}),_0x5bb03f=await fetch(_0x1cb568,{'redirect':_0x24959e(0x271)});if([0x12d,0x12e][_0x24959e(0x1d2)](_0x5bb03f[_0x24959e(0x207)]))return new Response('Redirects\x20to\x20'+_0x314369+_0x24959e(0x1b7),{'status':0x193,'statusText':'Forbidden'});return _0x5bb03f;}async function ProtocolOverWSHandler(_0x4834da){const _0x5d9aa4=a0_0x355263,_0x8f019b=new WebSocketPair(),[_0x537298,_0x451f73]=Object['values'](_0x8f019b);_0x451f73[_0x5d9aa4(0x20c)]();let _0x3ddd04='',_0x5a4316='';const _0x1b2f61=(_0xd457e3,_0x2b9dc0)=>{const _0x4b9986=_0x5d9aa4;console[_0x4b9986(0x245)]('['+_0x3ddd04+':'+_0x5a4316+']\x20'+_0xd457e3,_0x2b9dc0||'');},_0x13aca4=_0x4834da[_0x5d9aa4(0x1c0)]['get'](_0x5d9aa4(0x247))||'',_0xa27da9=makeReadableWebSocketStream(_0x451f73,_0x13aca4,_0x1b2f61);let _0x2c567f={'value':null},_0x340132=![];return _0xa27da9[_0x5d9aa4(0x1c8)](new WritableStream({async 'write'(_0x53f601,_0x345ec7){const _0x234a97=_0x5d9aa4;if(_0x340132)return await handleDNSQuery(_0x53f601,_0x451f73,null,_0x1b2f61);if(_0x2c567f[_0x234a97(0x1d6)]){const _0xb48ac1=_0x2c567f['value'][_0x234a97(0x203)][_0x234a97(0x1f0)]();await _0xb48ac1[_0x234a97(0x276)](_0x53f601),_0xb48ac1[_0x234a97(0x210)]();return;}const {hasError:_0x3049dc,message:_0x28949a,addressType:_0x46cbe8,portRemote:portRemote=0x1bb,addressRemote:addressRemote='',rawDataIndex:_0x8ba578,ProtocolVersion:ProtocolVersion=new Uint8Array([0x0,0x0]),isUDP:_0x5e2bfa}=processProtocolHeader(_0x53f601,userID);_0x3ddd04=addressRemote,_0x5a4316=portRemote+'--'+Math['random']()+'\x20'+(_0x5e2bfa?_0x234a97(0x1e6):'tcp\x20')+'\x20';if(_0x3049dc){throw new Error(_0x28949a);return;}if(_0x5e2bfa){if(portRemote===0x35)_0x340132=!![];else{throw new Error(_0x234a97(0x289));return;}}const _0x468719=new Uint8Array([ProtocolVersion[0x0],0x0]),_0x572194=_0x53f601[_0x234a97(0x1d7)](_0x8ba578);if(_0x340132)return handleDNSQuery(_0x572194,_0x451f73,_0x468719,_0x1b2f61);handleTCPOutBound(_0x2c567f,_0x46cbe8,addressRemote,portRemote,_0x572194,_0x451f73,_0x468719,_0x1b2f61);},'close'(){const _0xeb6c7c=_0x5d9aa4;_0x1b2f61(_0xeb6c7c(0x1f7));},'abort'(_0x321cb1){const _0x1286bc=_0x5d9aa4;_0x1b2f61(_0x1286bc(0x24e),JSON[_0x1286bc(0x23f)](_0x321cb1));}}))['catch'](_0xad45a4=>{const _0xd21a18=_0x5d9aa4;_0x1b2f61(_0xd21a18(0x1f4),_0xad45a4);}),new Response(null,{'status':0x65,'webSocket':_0x537298});}async function trojanOverWSHandler(_0x118d9e){const _0x688da4=a0_0x355263,_0x43eabb=new WebSocketPair(),[_0x1bd64e,_0x38fafd]=Object[_0x688da4(0x1f1)](_0x43eabb);_0x38fafd[_0x688da4(0x20c)]();let _0x217752='',_0x463c3c='';const _0x30e0ff=(_0x1adfcb,_0x4a1eb4)=>{const _0x4edf46=_0x688da4;console[_0x4edf46(0x245)]('['+_0x217752+':'+_0x463c3c+']\x20'+_0x1adfcb,_0x4a1eb4||'');},_0x42b1d5=_0x118d9e[_0x688da4(0x1c0)][_0x688da4(0x283)](_0x688da4(0x247))||'',_0x3b7c7b=makeReadableWebSocketStream(_0x38fafd,_0x42b1d5,_0x30e0ff);let _0x204642={'value':null},_0x2a6287=null;return _0x3b7c7b[_0x688da4(0x1c8)](new WritableStream({async 'write'(_0x32436f,_0x1191f0){const _0x4a0e7c=_0x688da4;if(_0x2a6287)return _0x2a6287(_0x32436f);if(_0x204642['value']){const _0x1a864c=_0x204642['value'][_0x4a0e7c(0x203)][_0x4a0e7c(0x1f0)]();await _0x1a864c[_0x4a0e7c(0x276)](_0x32436f),_0x1a864c[_0x4a0e7c(0x210)]();return;}const {hasError:_0x4612d0,message:_0x42895c,portRemote:portRemote=0x1bb,addressRemote:addressRemote='',rawClientData:_0x1428a5,addressType:_0x15dbf1}=await parseTrojanHeader(_0x32436f);_0x217752=addressRemote,_0x463c3c=portRemote+'--'+Math[_0x4a0e7c(0x1e3)]()+_0x4a0e7c(0x240);if(_0x4612d0){throw new Error(_0x42895c);return;}handleTCPOutBound(_0x204642,addressRemote,portRemote,_0x1428a5,_0x38fafd,_0x30e0ff,_0x15dbf1);},'close'(){const _0x13b04e=_0x688da4;_0x30e0ff(_0x13b04e(0x1f3));},'abort'(_0x10182f){const _0x4ac5cb=_0x688da4;_0x30e0ff(_0x4ac5cb(0x268),JSON[_0x4ac5cb(0x23f)](_0x10182f));}}))[_0x688da4(0x1d4)](_0x351f24=>{const _0x3ed41d=_0x688da4;_0x30e0ff(_0x3ed41d(0x1f4),_0x351f24);}),new Response(null,{'status':0x65,'webSocket':_0x1bd64e});}async function handleTCPOutBound(_0x181eff,_0x444fd1,_0x4792c,_0x2d22f0,_0x78afe8,_0x17b233,_0xfcd159,_0x53aba5){async function _0x13dc07(_0x5837d7,_0x207fac,_0x422d32=![]){const _0x516883=a0_0x5e36;let _0x457e00;socks5Relay?_0x457e00=await socks5Connect(_0x444fd1,_0x5837d7,_0x207fac,_0x53aba5):_0x457e00=_0x422d32?await socks5Connect(_0x444fd1,_0x5837d7,_0x207fac,_0x53aba5):connect({'hostname':_0x5837d7,'port':_0x207fac});_0x181eff[_0x516883(0x1d6)]=_0x457e00,_0x53aba5(_0x516883(0x21c)+_0x5837d7+':'+_0x207fac);const _0x1f118d=_0x457e00[_0x516883(0x203)]['getWriter']();return await _0x1f118d[_0x516883(0x276)](_0x78afe8),_0x1f118d['releaseLock'](),_0x457e00;}async function _0x32575c(){const _0x524df1=a0_0x5e36;enableSocks?_0x49c830=await _0x13dc07(_0x4792c,_0x2d22f0,!![]):_0x49c830=await _0x13dc07(proxyIP||_0x4792c,_0x2d22f0),_0x49c830[_0x524df1(0x279)][_0x524df1(0x1d4)](_0xab6ea3=>{const _0x536e48=_0x524df1;console[_0x536e48(0x245)]('retry\x20tcpSocket\x20closed\x20error',_0xab6ea3);})[_0x524df1(0x1ca)](()=>{safeCloseWebSocket(_0x17b233);}),remoteSocketToWS(_0x49c830,_0x17b233,_0xfcd159,null,_0x53aba5);}let _0x49c830=await _0x13dc07(_0x4792c,_0x2d22f0);remoteSocketToWS(_0x49c830,_0x17b233,_0xfcd159,_0x32575c,_0x53aba5);}function makeReadableWebSocketStream(_0x10176a,_0x79e006,_0x397feb){let _0x2432d9=![];const _0x1ebaeb=new ReadableStream({'start'(_0x4515ae){const _0x341f4d=a0_0x5e36;_0x10176a[_0x341f4d(0x1df)]('message',_0x424f2d=>{const _0x2e3f7f=_0x341f4d,_0x5b72e7=_0x424f2d['data'];_0x4515ae[_0x2e3f7f(0x26f)](_0x5b72e7);}),_0x10176a[_0x341f4d(0x1df)](_0x341f4d(0x1c1),()=>{safeCloseWebSocket(_0x10176a),_0x4515ae['close']();}),_0x10176a[_0x341f4d(0x1df)]('error',_0xac916e=>{const _0x52941f=_0x341f4d;_0x397feb(_0x52941f(0x204)),_0x4515ae[_0x52941f(0x1cb)](_0xac916e);});const {earlyData:_0x6cf49b,error:_0x3508c4}=base64ToArrayBuffer(_0x79e006);if(_0x3508c4)_0x4515ae['error'](_0x3508c4);else _0x6cf49b&&_0x4515ae[_0x341f4d(0x26f)](_0x6cf49b);},'pull'(_0x2d0956){},'cancel'(_0x28638e){const _0xfcd41f=a0_0x5e36;_0x397feb(_0xfcd41f(0x1f2)+_0x28638e),_0x2432d9=!![],safeCloseWebSocket(_0x10176a);}});return _0x1ebaeb;}function processProtocolHeader(_0x3e8400,_0x440c59){const _0x28eaa2=a0_0x355263;if(_0x3e8400[_0x28eaa2(0x22e)]<0x18)return{'hasError':!![],'message':_0x28eaa2(0x224)};const _0x5ed8ab=new DataView(_0x3e8400),_0x3126cf=_0x5ed8ab[_0x28eaa2(0x1cc)](0x0),_0x94d1e9=stringify(new Uint8Array(_0x3e8400['slice'](0x1,0x11))),_0x3e5d2a=_0x440c59['includes'](',')?_0x440c59[_0x28eaa2(0x236)](','):[_0x440c59],_0xff56ef=_0x3e5d2a[_0x28eaa2(0x28c)](_0x3c7a3d=>_0x94d1e9===_0x3c7a3d[_0x28eaa2(0x21e)]())||_0x3e5d2a[_0x28eaa2(0x28d)]===0x1&&_0x94d1e9===_0x3e5d2a[0x0][_0x28eaa2(0x21e)]();console['log']('userID:\x20'+_0x94d1e9);if(!_0xff56ef)return{'hasError':!![],'message':_0x28eaa2(0x1ce)};const _0x2c813e=_0x5ed8ab[_0x28eaa2(0x1cc)](0x11),_0x368d39=_0x5ed8ab['getUint8'](0x12+_0x2c813e);if(_0x368d39!==0x1&&_0x368d39!==0x2)return{'hasError':!![],'message':'command\x20'+_0x368d39+_0x28eaa2(0x20b)};const _0x509416=0x12+_0x2c813e+0x1,_0x2f88c0=_0x5ed8ab[_0x28eaa2(0x213)](_0x509416),_0x438eb7=_0x5ed8ab[_0x28eaa2(0x1cc)](_0x509416+0x2);let _0x453a98,_0x284bf7,_0x200336;switch(_0x438eb7){case 0x1:_0x284bf7=0x4,_0x200336=_0x509416+0x3,_0x453a98=new Uint8Array(_0x3e8400[_0x28eaa2(0x1d7)](_0x200336,_0x200336+_0x284bf7))[_0x28eaa2(0x1d1)]('.');break;case 0x2:_0x284bf7=_0x5ed8ab[_0x28eaa2(0x1cc)](_0x509416+0x3),_0x200336=_0x509416+0x4,_0x453a98=new TextDecoder()['decode'](_0x3e8400[_0x28eaa2(0x1d7)](_0x200336,_0x200336+_0x284bf7));break;case 0x3:_0x284bf7=0x10,_0x200336=_0x509416+0x3,_0x453a98=Array[_0x28eaa2(0x25c)]({'length':0x8},(_0x23c7a8,_0xc9292e)=>_0x5ed8ab['getUint16'](_0x200336+_0xc9292e*0x2)[_0x28eaa2(0x22f)](0x10))['join'](':');break;default:return{'hasError':!![],'message':'invalid\x20addressType:\x20'+_0x438eb7};}if(!_0x453a98)return{'hasError':!![],'message':_0x28eaa2(0x1ea)+_0x438eb7};return{'hasError':![],'addressRemote':_0x453a98,'addressType':_0x438eb7,'portRemote':_0x2f88c0,'rawDataIndex':_0x200336+_0x284bf7,'protocolVersion':new Uint8Array([_0x3126cf]),'isUDP':_0x368d39===0x2};}async function remoteSocketToWS(_0x1b233f,_0x3237a6,_0x21b55b,_0x51d0f8,_0x5b7cd9){const _0x24554a=a0_0x355263;let _0x533f90=![];try{await _0x1b233f['readable']['pipeTo'](new WritableStream({async 'write'(_0x3e0142){const _0x3aea17=a0_0x5e36;if(_0x3237a6[_0x3aea17(0x1e1)]!==WS_READY_STATE_OPEN)throw new Error(_0x3aea17(0x1f5));_0x533f90=!![],_0x21b55b?(_0x3237a6['send'](await new Blob([_0x21b55b,_0x3e0142])['arrayBuffer']()),_0x21b55b=null):_0x3237a6[_0x3aea17(0x1bb)](_0x3e0142);},'close'(){_0x5b7cd9('Remote\x20connection\x20readable\x20closed.\x20Had\x20incoming\x20data:\x20'+_0x533f90);},'abort'(_0x1e58a4){const _0xa0c966=a0_0x5e36;console[_0xa0c966(0x1cb)](_0xa0c966(0x234),_0x1e58a4);}}));}catch(_0x23769f){console[_0x24554a(0x1cb)]('remoteSocketToWS\x20error:',_0x23769f['stack']||_0x23769f),safeCloseWebSocket(_0x3237a6);}!_0x533f90&&_0x51d0f8&&(_0x5b7cd9('No\x20incoming\x20data,\x20retrying'),await _0x51d0f8());}function base64ToArrayBuffer(_0x1e38c2){const _0x27d647=a0_0x355263;if(!_0x1e38c2)return{'earlyData':null,'error':null};try{_0x1e38c2=_0x1e38c2[_0x27d647(0x222)](/-/g,'+')[_0x27d647(0x222)](/_/g,'/');const _0x15b1e4=atob(_0x1e38c2),_0x36fe8e=new ArrayBuffer(_0x15b1e4['length']),_0x155efc=new Uint8Array(_0x36fe8e);for(let _0x385fd0=0x0;_0x385fd0<_0x15b1e4['length'];_0x385fd0++){_0x155efc[_0x385fd0]=_0x15b1e4['charCodeAt'](_0x385fd0);}return{'earlyData':_0x36fe8e,'error':null};}catch(_0x4ad2f8){return{'earlyData':null,'error':_0x4ad2f8};}}function isValidUUID(_0x282df9){const _0x4446f2=a0_0x355263,_0x1d9de2=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;return _0x1d9de2[_0x4446f2(0x1f9)](_0x282df9);}const WS_READY_STATE_OPEN=0x1,WS_READY_STATE_CLOSING=0x2;function safeCloseWebSocket(_0x1fe587){const _0x3f54ae=a0_0x355263;try{(_0x1fe587[_0x3f54ae(0x1e1)]===WS_READY_STATE_OPEN||_0x1fe587[_0x3f54ae(0x1e1)]===WS_READY_STATE_CLOSING)&&_0x1fe587[_0x3f54ae(0x1c1)]();}catch(_0x19cae8){console[_0x3f54ae(0x1cb)](_0x3f54ae(0x1e4),_0x19cae8);}}const byteToHex=Array[a0_0x355263(0x25c)]({'length':0x100},(_0xafbcf3,_0x425a38)=>(_0x425a38+0x100)[a0_0x355263(0x22f)](0x10)[a0_0x355263(0x1d7)](0x1));function unsafeStringify(_0x21d89d,_0xbff54a=0x0){const _0x34c09c=a0_0x355263;return[byteToHex[_0x21d89d[_0xbff54a]],byteToHex[_0x21d89d[_0xbff54a+0x1]],byteToHex[_0x21d89d[_0xbff54a+0x2]],byteToHex[_0x21d89d[_0xbff54a+0x3]],'-',byteToHex[_0x21d89d[_0xbff54a+0x4]],byteToHex[_0x21d89d[_0xbff54a+0x5]],'-',byteToHex[_0x21d89d[_0xbff54a+0x6]],byteToHex[_0x21d89d[_0xbff54a+0x7]],'-',byteToHex[_0x21d89d[_0xbff54a+0x8]],byteToHex[_0x21d89d[_0xbff54a+0x9]],'-',byteToHex[_0x21d89d[_0xbff54a+0xa]],byteToHex[_0x21d89d[_0xbff54a+0xb]],byteToHex[_0x21d89d[_0xbff54a+0xc]],byteToHex[_0x21d89d[_0xbff54a+0xd]],byteToHex[_0x21d89d[_0xbff54a+0xe]],byteToHex[_0x21d89d[_0xbff54a+0xf]]][_0x34c09c(0x1d1)]('')[_0x34c09c(0x256)]();}function stringify(_0x545e8f,_0x277012=0x0){const _0x3b4a0c=a0_0x355263,_0x2822ed=unsafeStringify(_0x545e8f,_0x277012);if(!isValidUUID(_0x2822ed))throw new TypeError(_0x3b4a0c(0x243));return _0x2822ed;}async function handleUDPOutBound(_0x1aecc1,_0x37ad8b,_0xe641c2){const _0x185c99=a0_0x355263;let _0x1c3169=![];const _0x29df05=new TransformStream({'start'(_0x32cefe){},'transform'(_0x2870d3,_0x2d2531){const _0xce946f=a0_0x5e36;for(let _0x52d1c3=0x0;_0x52d1c3<_0x2870d3[_0xce946f(0x22e)];){const _0x5b732f=_0x2870d3['slice'](_0x52d1c3,_0x52d1c3+0x2),_0x2587fd=new DataView(_0x5b732f)[_0xce946f(0x213)](0x0),_0x1f55ea=new Uint8Array(_0x2870d3['slice'](_0x52d1c3+0x2,_0x52d1c3+0x2+_0x2587fd));_0x52d1c3=_0x52d1c3+0x2+_0x2587fd,_0x2d2531[_0xce946f(0x26f)](_0x1f55ea);}},'flush'(_0x12f2fc){}});_0x29df05['readable'][_0x185c99(0x1c8)](new WritableStream({async 'write'(_0x29250e){const _0x19903c=_0x185c99,_0x5b61b2=await fetch(dohURL,{'method':'POST','headers':{'content-type':'application/dns-message'},'body':_0x29250e}),_0x1e11a6=await _0x5b61b2[_0x19903c(0x1eb)](),_0x5a15c4=_0x1e11a6['byteLength'],_0x262e52=new Uint8Array([_0x5a15c4>>0x8&0xff,_0x5a15c4&0xff]);_0x1aecc1[_0x19903c(0x1e1)]===WS_READY_STATE_OPEN&&(_0xe641c2(_0x19903c(0x249)+_0x5a15c4),_0x1c3169?_0x1aecc1[_0x19903c(0x1bb)](await new Blob([_0x262e52,_0x1e11a6])['arrayBuffer']()):(_0x1aecc1[_0x19903c(0x1bb)](await new Blob([_0x37ad8b,_0x262e52,_0x1e11a6])[_0x19903c(0x1eb)]()),_0x1c3169=!![]));}}))[_0x185c99(0x1d4)](_0x43b6b3=>{const _0x51364a=_0x185c99;_0xe641c2(_0x51364a(0x248)+_0x43b6b3);});const _0x225978=_0x29df05[_0x185c99(0x203)][_0x185c99(0x1f0)]();return{'write'(_0x2f33b8){const _0x3b18ff=_0x185c99;_0x225978[_0x3b18ff(0x276)](_0x2f33b8);}};}async function handleDNSQuery(_0x599e4b,_0x57b18a,_0x566bba,_0x357f5e){const _0x307842=a0_0x355263;try{const _0x50dcb3=_0x307842(0x286),_0x15b9ce=0x35;let _0x5391c0=_0x566bba;const _0x1d9700=connect({'hostname':_0x50dcb3,'port':_0x15b9ce});_0x357f5e('connected\x20to\x20'+_0x50dcb3+':'+_0x15b9ce);const _0x4d8d4a=_0x1d9700[_0x307842(0x203)][_0x307842(0x1f0)]();await _0x4d8d4a[_0x307842(0x276)](_0x599e4b),_0x4d8d4a[_0x307842(0x210)](),await _0x1d9700[_0x307842(0x1e5)][_0x307842(0x1c8)](new WritableStream({async 'write'(_0x5caea6){const _0x32fc4f=_0x307842;_0x57b18a[_0x32fc4f(0x1e1)]===WS_READY_STATE_OPEN&&(_0x5391c0?(_0x57b18a[_0x32fc4f(0x1bb)](await new Blob([_0x5391c0,_0x5caea6])[_0x32fc4f(0x1eb)]()),_0x5391c0=null):_0x57b18a['send'](_0x5caea6));},'close'(){const _0x498b41=_0x307842;_0x357f5e(_0x498b41(0x205)+_0x50dcb3+_0x498b41(0x255));},'abort'(_0x4a5759){const _0x2ba481=_0x307842;console['error'](_0x2ba481(0x205)+_0x50dcb3+_0x2ba481(0x260),_0x4a5759);}}));}catch(_0x521692){console['error']('handleDNSQuery\x20have\x20exception,\x20error:\x20'+_0x521692[_0x307842(0x233)]);}}async function socks5Connect(_0x25b451,_0x1eb030,_0x10c87c,_0x183aab){const _0x410e44=a0_0x355263,{username:_0x5c4d09,password:_0x34fd20,hostname:_0x491795,port:_0x54d6f1}=parsedSocks5Address,_0x2dcfd0=connect({'hostname':_0x491795,'port':_0x54d6f1}),_0x21f278=new Uint8Array([0x5,0x2,0x0,0x2]),_0x1ac42c=_0x2dcfd0['writable']['getWriter']();await _0x1ac42c['write'](_0x21f278),_0x183aab(_0x410e44(0x1d9));const _0x2306fd=_0x2dcfd0[_0x410e44(0x1e5)][_0x410e44(0x263)](),_0x54e77f=new TextEncoder();let _0x40fff1=(await _0x2306fd[_0x410e44(0x264)]())['value'];if(_0x40fff1[0x0]!==0x5){_0x183aab(_0x410e44(0x1e8)+_0x40fff1[0x0]+_0x410e44(0x285));return;}if(_0x40fff1[0x1]===0xff){_0x183aab(_0x410e44(0x217));return;}if(_0x40fff1[0x1]===0x2){_0x183aab('socks\x20server\x20needs\x20auth');if(!_0x5c4d09||!_0x34fd20){_0x183aab(_0x410e44(0x220));return;}const _0x59bd18=new Uint8Array([0x1,_0x5c4d09['length'],..._0x54e77f[_0x410e44(0x23c)](_0x5c4d09),_0x34fd20[_0x410e44(0x28d)],..._0x54e77f[_0x410e44(0x23c)](_0x34fd20)]);await _0x1ac42c[_0x410e44(0x276)](_0x59bd18),_0x40fff1=(await _0x2306fd['read']())[_0x410e44(0x1d6)];if(_0x40fff1[0x0]!==0x1||_0x40fff1[0x1]!==0x0){_0x183aab(_0x410e44(0x27b));return;}}let _0x18f5ee;switch(_0x25b451){case 0x1:_0x18f5ee=new Uint8Array([0x1,..._0x1eb030['split']('.')[_0x410e44(0x211)](Number)]);break;case 0x2:_0x18f5ee=new Uint8Array([0x3,_0x1eb030['length'],..._0x54e77f[_0x410e44(0x23c)](_0x1eb030)]);break;case 0x3:_0x18f5ee=new Uint8Array([0x4,..._0x1eb030[_0x410e44(0x236)](':')[_0x410e44(0x272)](_0x4747c2=>[parseInt(_0x4747c2[_0x410e44(0x1d7)](0x0,0x2),0x10),parseInt(_0x4747c2[_0x410e44(0x1d7)](0x2),0x10)])]);break;default:_0x183aab('invild\x20\x20addressType\x20is\x20'+_0x25b451);return;}const _0x3ab683=new Uint8Array([0x5,0x1,0x0,..._0x18f5ee,_0x10c87c>>0x8,_0x10c87c&0xff]);await _0x1ac42c[_0x410e44(0x276)](_0x3ab683),_0x183aab('sent\x20socks\x20request'),_0x40fff1=(await _0x2306fd[_0x410e44(0x264)]())['value'];if(_0x40fff1[0x1]===0x0)_0x183aab(_0x410e44(0x209));else{_0x183aab(_0x410e44(0x1d8));return;}return _0x1ac42c['releaseLock'](),_0x2306fd['releaseLock'](),_0x2dcfd0;}function socks5AddressParser(_0xddfa8){const _0x14bd3f=a0_0x355263;let [_0x2f87d2,_0xf78cf6]=_0xddfa8[_0x14bd3f(0x236)]('@')['reverse'](),_0x5190ea,_0x3e601b,_0x520b50,_0x398d12;if(_0xf78cf6){const _0x1b90e2=_0xf78cf6[_0x14bd3f(0x236)](':');if(_0x1b90e2['length']!==0x2)throw new Error(_0x14bd3f(0x27e));[_0x5190ea,_0x3e601b]=_0x1b90e2;}const _0x1800bb=_0x2f87d2[_0x14bd3f(0x236)](':');_0x398d12=Number(_0x1800bb['pop']());if(isNaN(_0x398d12))throw new Error(_0x14bd3f(0x27e));_0x520b50=_0x1800bb[_0x14bd3f(0x1d1)](':');const _0x4b69cb=/^\[.*\]$/;if(_0x520b50[_0x14bd3f(0x1d2)](':')&&!_0x4b69cb[_0x14bd3f(0x1f9)](_0x520b50))throw new Error(_0x14bd3f(0x27e));return{'username':_0x5190ea,'password':_0x3e601b,'hostname':_0x520b50,'port':_0x398d12};}async function parseTrojanHeader(_0x4ffd20){const _0x4f715d=a0_0x355263;if(_0x4ffd20[_0x4f715d(0x22e)]<0x3a)return{'hasError':!![],'message':_0x4f715d(0x27d)};const _0x34a135=new DataView(_0x4ffd20);if(_0x34a135[_0x4f715d(0x1cc)](0x38)!==0xd||_0x34a135[_0x4f715d(0x1cc)](0x39)!==0xa)return{'hasError':!![],'message':_0x4f715d(0x20e)};const _0x1d0c8b=new TextDecoder()[_0x4f715d(0x252)](_0x4ffd20[_0x4f715d(0x1d7)](0x0,0x38));if(_0x1d0c8b!==Sha256[_0x4f715d(0x274)](userID))return{'hasError':!![],'message':_0x4f715d(0x1d3)};const _0x503664=new DataView(_0x4ffd20,0x3a);if(_0x503664[_0x4f715d(0x22e)]<0x6)return{'hasError':!![],'message':'Invalid\x20SOCKS5\x20request\x20data'};if(_0x503664[_0x4f715d(0x1cc)](0x0)!==0x1)return{'hasError':!![],'message':'Unsupported\x20command,\x20only\x20TCP\x20(CONNECT)\x20is\x20allowed'};const _0x52f292=_0x503664[_0x4f715d(0x1cc)](0x1);let _0x3a2d79,_0x42f448;switch(_0x52f292){case 0x1:_0x3a2d79=Array[_0x4f715d(0x25c)](new Uint8Array(_0x503664[_0x4f715d(0x231)],_0x503664[_0x4f715d(0x230)]+0x2,0x4))['join']('.'),_0x42f448=0x6;break;case 0x3:const _0x2deafa=_0x503664[_0x4f715d(0x1cc)](0x2);_0x3a2d79=new TextDecoder()['decode'](_0x503664[_0x4f715d(0x231)]['slice'](_0x503664[_0x4f715d(0x230)]+0x3,_0x503664[_0x4f715d(0x230)]+0x3+_0x2deafa)),_0x42f448=0x3+_0x2deafa;break;case 0x4:_0x3a2d79=Array[_0x4f715d(0x25c)](new Uint8Array(_0x503664[_0x4f715d(0x231)],_0x503664[_0x4f715d(0x230)]+0x2,0x10))[_0x4f715d(0x211)](_0x587967=>_0x587967[_0x4f715d(0x22f)](0x10)['padStart'](0x2,'0'))[_0x4f715d(0x1d1)](':')[_0x4f715d(0x222)](/(:0)+:/,'::'),_0x42f448=0x12;break;default:return{'hasError':!![],'message':_0x4f715d(0x1c5)+_0x52f292};}const _0x2b5480=_0x503664['getUint16'](_0x42f448);return{'hasError':![],'address':_0x3a2d79,'port':_0x2b5480,'data':_0x4ffd20[_0x4f715d(0x1d7)](0x3a+_0x42f448+0x2)};}const VlessCmd={'TCP':0x1,'UDP':0x2,'MUX':0x3},VlessAddrType={'IPv4':0x1,'DomainName':0x2,'IPv6':0x3};function makeVlessReqHeader(_0x4c8830,_0x2822d1,_0x173bfd,_0x378125,_0x1d351e){const _0x2f3af1=a0_0x355263;let _0x549ad6,_0xbc3d2a;switch(_0x2822d1){case VlessAddrType[_0x2f3af1(0x25e)]:_0x549ad6=0x4;break;case VlessAddrType[_0x2f3af1(0x275)]:_0xbc3d2a=new TextEncoder()[_0x2f3af1(0x23c)](_0x173bfd),_0x549ad6=_0xbc3d2a[_0x2f3af1(0x28d)]+0x1;break;case VlessAddrType['IPv6']:_0x549ad6=0x10;break;default:throw new Error(_0x2f3af1(0x24b)+_0x2822d1);}const _0x54f1e8=_0x1d351e[_0x2f3af1(0x222)](/-/g,''),_0x1e6e21=0x1,_0xed55b0=new Uint8Array(0x16+_0x549ad6);_0xed55b0[0x0]=0x0;for(let _0x47d1f1=0x0;_0x47d1f1<_0x54f1e8['length'];_0x47d1f1+=0x2){_0xed55b0[_0x1e6e21+_0x47d1f1/0x2]=parseInt(_0x54f1e8[_0x2f3af1(0x23b)](_0x47d1f1,0x2),0x10);}_0xed55b0[0x11]=0x0,_0xed55b0[0x12]=_0x4c8830,_0xed55b0[0x13]=_0x378125>>0x8,_0xed55b0[0x14]=_0x378125&0xff,_0xed55b0[0x15]=_0x2822d1;switch(_0x2822d1){case VlessAddrType['IPv4']:const _0x181da=_0x173bfd[_0x2f3af1(0x236)]('.');for(let _0x4cf1cb=0x0;_0x4cf1cb<0x4;_0x4cf1cb++){_0xed55b0[0x16+_0x4cf1cb]=parseInt(_0x181da[_0x4cf1cb]);}break;case VlessAddrType[_0x2f3af1(0x275)]:_0xed55b0[0x16]=_0xbc3d2a[_0x2f3af1(0x28d)],_0xed55b0[_0x2f3af1(0x295)](_0xbc3d2a,0x17);break;case VlessAddrType[_0x2f3af1(0x265)]:const _0x5760cb=ipv6[_0x2f3af1(0x236)](':');for(let _0x233392=0x0;_0x233392<0x8;_0x233392++){const _0x4ab8c3=parseInt(_0x5760cb[_0x233392],0x10);_0xed55b0[_0x233392*0x2+0x16]=_0x4ab8c3>>0x8,_0xed55b0[_0x233392*0x2+0x17]=_0x4ab8c3&0xff;}break;default:throw new Error(_0x2f3af1(0x24b)+_0x2822d1);}return _0xed55b0;}function checkVlessConfig(_0x583de9,_0x2809ef){const _0x516523=a0_0x355263;if(_0x2809ef[_0x516523(0x278)]!=='ws')throw new Error(_0x516523(0x22d)+_0x2809ef[_0x516523(0x278)]+',\x20has\x20to\x20be\x20ws\x20(Websocket)');if(_0x2809ef[_0x516523(0x237)]!==_0x516523(0x25d)&&_0x2809ef[_0x516523(0x237)]!==_0x516523(0x1c7))throw new Error(_0x516523(0x200)+_0x2809ef[_0x516523(0x278)]+_0x516523(0x22c));if(_0x2809ef['wsSettings']&&_0x2809ef[_0x516523(0x280)]['headers']&&_0x2809ef[_0x516523(0x280)][_0x516523(0x1c0)][_0x516523(0x1e9)]!==_0x583de9)throw new Error(_0x516523(0x1dc));if(_0x2809ef[_0x516523(0x253)]&&_0x2809ef[_0x516523(0x253)]['serverName']!==_0x583de9)throw new Error(_0x516523(0x21b));}function parseVlessString(_0x3cf1f0){const _0x1cbc9e=a0_0x355263,_0x9e4095=/^(.+):\/\/(.+?)@(.+?):(\d+)(\?[^#]*)?(#.*)?$/,_0x7cc0ab=_0x3cf1f0[_0x1cbc9e(0x22b)](_0x9e4095);if(!_0x7cc0ab)throw new Error('Invalid\x20URL\x20format');const [,_0x166897,_0x16b02f,_0x4fdabb,_0x51b1fa,_0x3b6833,_0x298ef0]=_0x7cc0ab,_0x54352c={'protocol':_0x166897,'uuid':_0x16b02f,'remoteHost':_0x4fdabb,'remotePort':parseInt(_0x51b1fa),'descriptiveText':_0x298ef0?_0x298ef0[_0x1cbc9e(0x1f6)](0x1):'','queryParams':{}};if(_0x3b6833){const _0x1c88cd=_0x3b6833[_0x1cbc9e(0x1f6)](0x1)[_0x1cbc9e(0x236)]('&');_0x1c88cd[_0x1cbc9e(0x1c4)](_0x4d69e4=>{const _0xb52318=_0x1cbc9e,[_0x35edcf,_0x647eed]=_0x4d69e4[_0xb52318(0x236)]('=');_0x54352c[_0xb52318(0x1bf)][_0x35edcf]=_0x647eed;});}return _0x54352c;}const at=a0_0x355263(0x250),pt=a0_0x355263(0x225),ed='RUR0dW5uZWw=';function getConfig(_0x3ef1c5,_0x40665a){const _0x11ff21=a0_0x355263,_0x590841=':443?encryption=none&security=tls&sni='+_0x40665a+_0x11ff21(0x20f)+_0x40665a+_0x11ff21(0x1e2)+_0x40665a,_0x33490d=_0x3ef1c5[_0x11ff21(0x236)](','),_0x18b46f=_0x11ff21(0x1c9)+_0x40665a+_0x11ff21(0x1b6)+_0x33490d[0x0]+_0x11ff21(0x1db),_0x4a3df0=_0x11ff21(0x1c9)+_0x40665a+_0x11ff21(0x201)+_0x33490d[0x0],_0x29d03f=_0x11ff21(0x215)+encodeURIComponent(_0x18b46f)+_0x11ff21(0x259),_0x13ec7e=_0x11ff21(0x1d0)+_0x40665a+_0x11ff21(0x1be)+_0x40665a+'/\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20name=\x27twitter:image\x27\x20content=\x27https://ipfs.io/ipfs/bafybeigd6i5aavwpr6wvnwuyayklq3omonggta4x2q7kpmgafj357nkcky\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20property=\x27og:image:width\x27\x20content=\x271500\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20property=\x27og:image:height\x27\x20content=\x271500\x27\x20/>\x0a\x0a\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20body\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Roboto\x27,\x20\x27Segoe\x20UI\x27,\x20Tahoma,\x20Geneva,\x20Verdana,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#000000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20line-height:\x201.6;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x201200px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200\x20auto;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#111111;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x204px\x206px\x20rgba(255,\x20255,\x20255,\x200.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20h1,\x20h2\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.config-item\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#222222;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#333333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2015px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.config-item\x20h3\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#000000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s,\x20color\x200.3s;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.btn:hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#cccccc;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.btn-group\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2010px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.btn-group\x20.btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-right:\x2010px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20pre\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#333333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#444444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20white-space:\x20pre-wrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20word-wrap:\x20break-word;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#00ff00;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.logo\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20float:\x20left;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-right:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x09\x09max-width:\x2030%;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20@media\x20(max-width:\x20768px)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20.logo\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200\x20auto\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x2090%;\x20/*\x20Adjust\x20the\x20max-width\x20to\x20fit\x20within\x20the\x20container\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.btn-group\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.btn-group\x20.btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.code-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20relative;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2015px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.code-container\x20pre\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding-right:\x20100px;\x20/*\x20Make\x20space\x20for\x20the\x20button\x20*/\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.copy-btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x205px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x205px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x205px\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x200.8em;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.subscription-info\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#222222;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2015px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.subscription-info\x20h3\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x200;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.subscription-info\x20ul\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding-left:\x2020px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.subscription-info\x20li\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2010px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css\x22>\x0a\x20\x20</head>\x0a\x20\x20',_0x495d52='\x0a\x20\x20\x20\x20<div\x20class=\x22container\x22>\x0a\x20\x20\x20\x20\x20\x20<h1>EDtunnel:\x20Protocol\x20Configuration</h1>\x0a\x20\x20\x20\x20\x20\x20<img\x20src=\x22https://ipfs.io/ipfs/bafybeigd6i5aavwpr6wvnwuyayklq3omonggta4x2q7kpmgafj357nkcky\x22\x20alt=\x22EDtunnel\x20Logo\x22\x20class=\x22logo\x22>\x0a\x20\x20\x20\x20\x20\x20<p>Welcome!\x20This\x20function\x20generates\x20configuration\x20for\x20the\x20vless\x20protocol.\x20If\x20you\x20found\x20this\x20useful,\x20please\x20check\x20our\x20GitHub\x20project:</p>\x0a\x20\x20\x20\x20\x20\x20<p><a\x20href=\x22https://github.com/6Kmfi6HP/EDtunnel\x22\x20target=\x22_blank\x22\x20style=\x22color:\x20#00ff00;\x22>EDtunnel\x20-\x20https://github.com/6Kmfi6HP/EDtunnel</a></p>\x0a\x20\x20\x20\x20\x20\x20<div\x20style=\x22clear:\x20both;\x22></div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22btn-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22//'+_0x40665a+_0x11ff21(0x1b6)+_0x33490d[0x0]+_0x11ff21(0x21a)+encodeURIComponent(_0x11ff21(0x1c9)+_0x40665a+'/sub/'+_0x33490d[0x0]+_0x11ff21(0x1db))+_0x11ff21(0x221)+_0x29d03f+_0x11ff21(0x273)+_0x4a3df0+_0x11ff21(0x1da),_0x17bafb=_0x33490d['map'](_0x2ff436=>{const _0x36d253=_0x11ff21,_0x25a72e=atob(pt)+_0x36d253(0x219)+_0x2ff436+atob(at)+_0x40665a+_0x590841,_0x448411=atob(pt)+'://'+_0x2ff436+atob(at)+proxyIP+_0x590841;return _0x36d253(0x1b8)+_0x2ff436+_0x36d253(0x251)+_0x25a72e+_0x36d253(0x26e)+_0x25a72e+_0x36d253(0x1c2)+_0x448411+'</code></pre>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20copy-btn\x22\x20onclick=\x27copyToClipboard(\x22'+_0x448411+_0x36d253(0x238);})[_0x11ff21(0x1d1)]('');return'\x0a\x20\x20<html>\x0a\x20\x20'+_0x13ec7e+_0x11ff21(0x1bd)+_0x495d52+'\x0a\x20\x20\x20\x20'+_0x17bafb+'\x0a\x20\x20</body>\x0a\x20\x20<script>\x0a\x20\x20\x20\x20function\x20copyToClipboard(text)\x20{\x0a\x20\x20\x20\x20\x20\x20navigator.clipboard.writeText(text)\x0a\x20\x20\x20\x20\x20\x20\x20\x20.then(()\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x22Copied\x20to\x20clipboard\x22);\x0a\x20\x20\x20\x20\x20\x20\x20\x20})\x0a\x20\x20\x20\x20\x20\x20\x20\x20.catch((err)\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x22Failed\x20to\x20copy\x20to\x20clipboard:\x22,\x20err);\x0a\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20}\x0a\x20\x20</script>\x0a\x20\x20</html>';}const HttpPort=new Set([0x50,0x1f90,0x22b0,0x804,0x826,0x82f,0x822]),HttpsPort=new Set([0x1bb,0x20fb,0x805,0x830,0x827,0x823]);function GenSub(_0x44d4c3,_0x5cf98d){const _0x3a8b43=a0_0x355263,_0x24ab68=_0x44d4c3[_0x3a8b43(0x1d2)](',')?_0x44d4c3[_0x3a8b43(0x236)](','):[_0x44d4c3],_0x5edb72=()=>'/'+Math['random']()[_0x3a8b43(0x22f)](0x24)[_0x3a8b43(0x1f6)](0x2,0xf)+_0x3a8b43(0x28b),_0x4bf232=_0x3a8b43(0x20d)+_0x5cf98d+_0x3a8b43(0x1e7)+encodeURIComponent(_0x5edb72())+'#',_0x5af38f=_0x3a8b43(0x20a)+_0x5cf98d+_0x3a8b43(0x293)+_0x5cf98d+_0x3a8b43(0x1e2),_0x4a531f=_0x24ab68['flatMap'](_0x4974c6=>{const _0x383665=_0x3a8b43,_0x4eb616=Array['from'](HttpPort)[_0x383665(0x272)](_0x43a7e2=>{const _0x2d9a93=_0x383665;if(!_0x5cf98d['includes'](_0x2d9a93(0x232))){const _0x2ad7a9=_0x5cf98d+_0x2d9a93(0x1c6)+_0x43a7e2,_0x3e4253=atob(pt)+_0x2d9a93(0x219)+_0x4974c6+atob(at)+_0x5cf98d+':'+_0x43a7e2+_0x4bf232+_0x2ad7a9;return proxyIPs[_0x2d9a93(0x272)](_0x1a6e9f=>{const _0xcc7059=_0x2d9a93,_0x55f51c=atob(pt)+_0xcc7059(0x219)+_0x4974c6+atob(at)+_0x1a6e9f+':'+_0x43a7e2+_0x4bf232+_0x2ad7a9+'-'+_0x1a6e9f+'-'+atob(ed);return[_0x3e4253,_0x55f51c];});}return[];}),_0x422ff4=Array['from'](HttpsPort)[_0x383665(0x272)](_0x3b6175=>{const _0x5c9abb=_0x383665,_0x320cbd=_0x5cf98d+_0x5c9abb(0x1f8)+_0x3b6175,_0xb18dcf=atob(pt)+'://'+_0x4974c6+atob(at)+_0x5cf98d+':'+_0x3b6175+_0x5af38f+_0x320cbd;return proxyIPs['flatMap'](_0x4722a0=>{const _0x4ade93=atob(pt)+'://'+_0x4974c6+atob(at)+_0x4722a0+':'+_0x3b6175+_0x5af38f+_0x320cbd+'-'+_0x4722a0+'-'+atob(ed);return[_0xb18dcf,_0x4ade93];});});return[..._0x4eb616,..._0x422ff4];});return _0x4a531f['join']('\x0a');}const hostnames=[a0_0x355263(0x1b5),a0_0x355263(0x298),a0_0x355263(0x296),'www.taobao.com',a0_0x355263(0x1de),a0_0x355263(0x1d5),a0_0x355263(0x269),a0_0x355263(0x227),a0_0x355263(0x292),'www.zhihu.com',a0_0x355263(0x258),a0_0x355263(0x244),'www.douban.com','www.meituan.com',a0_0x355263(0x282),a0_0x355263(0x266),a0_0x355263(0x267),a0_0x355263(0x241),a0_0x355263(0x1dd),a0_0x355263(0x23a),'www.wechat.com',a0_0x355263(0x214),a0_0x355263(0x1fa),'www.aliyun.com',a0_0x355263(0x23e),a0_0x355263(0x24a),'www.xunlei.com',a0_0x355263(0x1ef),'www.bilibili.com',a0_0x355263(0x281),a0_0x355263(0x28e),a0_0x355263(0x1cd),a0_0x355263(0x27f),a0_0x355263(0x294),'www.zol.com.cn',a0_0x355263(0x212),'www.tiktok.com',a0_0x355263(0x23d),'www.cnki.net',a0_0x355263(0x1b4),a0_0x355263(0x226),a0_0x355263(0x218),'www.qqgongyi.com',a0_0x355263(0x257),a0_0x355263(0x242),'www.suning.com',a0_0x355263(0x1cf),a0_0x355263(0x1bc),a0_0x355263(0x262),'www.51cto.com',a0_0x355263(0x246),a0_0x355263(0x1ff),a0_0x355263(0x28f),'www.cnzz.com',a0_0x355263(0x25b),'www.ynet.com',a0_0x355263(0x27c),'www.renren.com',a0_0x355263(0x1ed),a0_0x355263(0x216),a0_0x355263(0x25f),'www.aipai.com',a0_0x355263(0x223),a0_0x355263(0x1fd),a0_0x355263(0x261),'www.dianyou.cn',a0_0x355263(0x1b9),a0_0x355263(0x1fe),a0_0x355263(0x277),a0_0x355263(0x228),a0_0x355263(0x25a),a0_0x355263(0x26c),'www.cntv.cn','www.secoo.com'];